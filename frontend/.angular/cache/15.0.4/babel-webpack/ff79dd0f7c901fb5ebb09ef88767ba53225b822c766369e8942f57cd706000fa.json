{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { throwError } from 'rxjs';\nlet AnnotationComponent = class AnnotationComponent {\n  constructor(formBuilder, annotationService, toastr) {\n    this.formBuilder = formBuilder;\n    this.annotationService = annotationService;\n    this.toastr = toastr;\n    this.submmited = false;\n    this.error = false;\n    this.loading = false;\n    this.annotationForm = this.formBuilder.group({\n      idAnnotation: [''],\n      idBird: ['', [Validators.required]],\n      date: ['', [Validators.required]],\n      place: ['', [Validators.minLength(3), Validators.maxLength(100)]]\n    });\n  }\n  ngOnInit() {}\n  addAnnotations() {\n    this.annotationService.postAnnotations(this.annotationForm.value).subscribe(data => {\n      this.loading = false;\n      if (data) {\n        alert('Cadastrado com sucesso');\n      }\n    }, err => {\n      this.loading = false;\n      if (err.status == 400) {\n        alert(err.message);\n      } else {\n        throwError(err);\n      }\n    });\n  }\n};\nAnnotationComponent = __decorate([Component({\n  selector: 'app-annotation',\n  templateUrl: './annotation.component.html',\n  styleUrls: ['./annotation.component.scss']\n})], AnnotationComponent);\nexport { AnnotationComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAAiCC,UAAU,QAAQ,gBAAgB;AAInE,SAASC,UAAU,QAAQ,MAAM;AAO1B,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAM9BC,YACUC,WAAwB,EACxBC,iBAAoC,EACrCC,MAAqB;IAFpB,gBAAW,GAAXF,WAAW;IACX,sBAAiB,GAAjBC,iBAAiB;IAClB,WAAM,GAANC,MAAM;IAPf,cAAS,GAAY,KAAK;IAC1B,UAAK,GAAY,KAAK;IACtB,YAAO,GAAY,KAAK;IAOtB,IAAI,CAACC,cAAc,GAAG,IAAI,CAACH,WAAW,CAACI,KAAK,CAAC;MAC3CC,YAAY,EAAE,CAAC,EAAE,CAAC;MAClBC,MAAM,EAAE,CAAC,EAAE,EAAE,CAACV,UAAU,CAACW,QAAQ,CAAC,CAAC;MACnCC,IAAI,EAAE,CAAC,EAAE,EAAE,CAACZ,UAAU,CAACW,QAAQ,CAAC,CAAC;MACjCE,KAAK,EAAE,CAAC,EAAE,EAAE,CAACb,UAAU,CAACc,SAAS,CAAC,CAAC,CAAC,EAAEd,UAAU,CAACe,SAAS,CAAC,GAAG,CAAC,CAAC;KACjE,CAAC;EACJ;EAEAC,QAAQ,IAAU;EAElBC,cAAc;IACZ,IAAI,CAACZ,iBAAiB,CAACa,eAAe,CAAC,IAAI,CAACX,cAAc,CAACY,KAAK,CAAC,CAACC,SAAS,CACxEC,IAAI,IAAI;MACP,IAAI,CAACC,OAAO,GAAG,KAAK;MAEpB,IAAID,IAAI,EAAE;QACRE,KAAK,CAAC,wBAAwB,CAAC;;IAEnC,CAAC,EACAC,GAAsB,IAAI;MACzB,IAAI,CAACF,OAAO,GAAG,KAAK;MAEpB,IAAIE,GAAG,CAACC,MAAM,IAAI,GAAG,EAAE;QACrBF,KAAK,CAACC,GAAG,CAACE,OAAO,CAAC;OACnB,MAAM;QACLzB,UAAU,CAACuB,GAAG,CAAC;;IAEnB,CAAC,CACF;EACH;CACD;AAzCYtB,mBAAmB,eAL/BH,SAAS,CAAC;EACT4B,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,GACW3B,mBAAmB,CAyC/B;SAzCYA,mBAAmB","names":["Component","Validators","throwError","AnnotationComponent","constructor","formBuilder","annotationService","toastr","annotationForm","group","idAnnotation","idBird","required","date","place","minLength","maxLength","ngOnInit","addAnnotations","postAnnotations","value","subscribe","data","loading","alert","err","status","message","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Projetos\\Ornithology\\frontend\\src\\app\\modules\\pages\\annotation\\annotation.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AnnotationService } from 'src/app/services/annotation.service';\nimport { ToastrService } from 'ngx-toastr';\nimport { HttpErrorResponse } from '@angular/common/http';\nimport { throwError } from 'rxjs';\n\n@Component({\n  selector: 'app-annotation',\n  templateUrl: './annotation.component.html',\n  styleUrls: ['./annotation.component.scss'],\n})\nexport class AnnotationComponent implements OnInit {\n  annotationForm: FormGroup;\n  submmited: boolean = false;\n  error: boolean = false;\n  loading: boolean = false;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private annotationService: AnnotationService,\n    public toastr: ToastrService\n  ) {\n    this.annotationForm = this.formBuilder.group({\n      idAnnotation: [''],\n      idBird: ['', [Validators.required]],\n      date: ['', [Validators.required]],\n      place: ['', [Validators.minLength(3), Validators.maxLength(100)]],\n    });\n  }\n\n  ngOnInit(): void {}\n\n  addAnnotations() {\n    this.annotationService.postAnnotations(this.annotationForm.value).subscribe(\n      (data) => {\n        this.loading = false;\n\n        if (data) {\n          alert('Cadastrado com sucesso');\n        }\n      },\n      (err: HttpErrorResponse) => {\n        this.loading = false;\n\n        if (err.status == 400) {\n          alert(err.message);\n        } else {\n          throwError(err);\n        }\n      }\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}